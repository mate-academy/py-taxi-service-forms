{% extends "base.html" %}

{% block content %}
    <h1>
        {{ driver.username }}
        {% if driver == user %}
            (Me)
        {% endif %}
    </h1>
    {% if driver.first_name and driver.last_name %}
        <p>
            <strong>Full name: </strong> {{ driver.first_name }} {{ driver.last_name }}
        </p>
    {% else %}
        <p>
            <strong>Private driver</strong>
        </p>
    {% endif %}
    <p>
        <strong>License number: </strong> {{ driver.license_number }}
    </p>
    <h3>Cars:</h3>
    {% for car in driver.cars.all %}
        <hr>
        <p class="text-muted"><strong>Id: </strong> {{ car.id }}</p>
        {% if car.model %}
            <p><strong>Model: </strong> <a class="text-decoration-none" href="{% url 'taxi:car-detail' car.pk %}">{{ car.model }}</a></p>
            <p><strong>Manufacturer: </strong> <a class="text-decoration-none" href="{% url 'taxi:manufacturer-detail' car.manufacturer.pk %}">{{ car.manufacturer }}</a></p>
        {% endif %}
        {% empty %}
            <p>Sorry, this driver hasn't got any car of our service yet((</p>
    {% endfor %}
    {% if driver == user %}
            <a class="btn btn-warning" href="{% url 'taxi:driver-update' driver.pk %}">Update driver</a>
    {% endif %}
    <a class="btn btn-secondary li" href="{% url 'taxi:license-update' driver.pk %}">Update license</a>
    <a class="btn btn-danger li" href="{% url 'taxi:driver-delete' driver.pk %}">Delete driver</a>
{% endblock %}
